1. компилирую все файлы функций (до состояния объектных модулей) для будущей разделяемой библиотеки с использованием ключа позиционно независимого кода:

-fPIC - ïîçèöèîííî-íåçàâèñèìûé êîä (PIC - Position Independent Code), 
 	Âìåñòî óêàçàíèÿ ôèêñèðîâàííûõ (ñòàòè÷åñêèõ) ïîçèöèé, âñå àäðåñà âû÷èñëÿþòñÿ
	èñõîäÿ èç ñìåùåíèé çàäàííûõ â ãëîáàëüíîé òàáëèöû ñìåùåíèé (global offset table - GOT).

 gcc -fPIC -c add.c add.o
 gcc -fPIC -c sub.c sub.o
 gcc -fPIC -c mux.c mux.o
 gcc -fPIC -c div.c div.o

2. Сборка динамической библиотеки из объектных модулей:

-shared - команда создания разделяемой библиотеки (создается динамическая библиотека с расширением "so")

 gcc -shared -o libcalc.so add.o sub.o mul.o div.o

3. После создания разделяемой библиотеки можно удалить объектные модули уже добавленных компонентов библиотеки:

rm add.o sub.o mul.o div.o

4. Объявляю все библиотечные функции в заголовочном файле calc.h.

5. В основном файле программы подключаю заголовочный файл библиотеки

#include "../library/calc.h"

6.  из каталога project в котором лежит основной файл программы выполняю команду:

gcc task_8_final.c -o task_8_final -L./../mymath/ -lcalc

компилируется основной файл с указанием пути линковщику к разделяемой библиотеке

7. запускаю программу с определением значения переменной среды LD_LIBRARY_PATH (указываю путь динамическому компоновщику к разделяемой библиотеке)

LD_LIBRARY_PATH=../mymath ./task_8_final

